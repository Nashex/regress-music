(this.webpackJsonpmusic=this.webpackJsonpmusic||[]).push([[0],{267:function(e,t,n){"use strict";(function(e){var s=n(14),i=n(15),a=n(297),r=function(){function t(n,i){var r=this;Object(s.a)(this,t),this.client_id=n,this.client_secret=i,this.authOptions={url:"https://accounts.spotify.com/api/token",headers:{Authorization:"Basic "+e.from(this.client_id+":"+this.client_secret).toString("base64")},form:{grant_type:"client_credentials"},json:!0},new Promise((function(e,t){a.post(r.authOptions,(function(n,s,i){n||200!==s.statusCode?t(n):e(i.access_token)}))})).then((function(e){return r.token=e}))}return Object(i.a)(t,[{key:"getAudioAnalysis",value:function(e){var t=this;return new Promise((function(n,s){var i={url:"https://api.spotify.com/v1/audio-features?ids=".concat(e.join(",")),headers:{Authorization:"Bearer "+t.token},json:!0};a.get(i,(function(e,t,s){n(s)}))}))}},{key:"getSearchResults",value:function(e){var t=this;return new Promise((function(n,s){var i={url:"https://api.spotify.com/v1/search?q=".concat(e,"&type=track&limit=5"),headers:{Authorization:"Bearer "+t.token},json:!0};a.get(i,(function(e,t,s){n(s)}))}))}}]),t}();t.a=r}).call(this,n(19).Buffer)},287:function(e,t,n){},312:function(e,t){},314:function(e,t){},323:function(e,t){},325:function(e,t){},350:function(e,t){},352:function(e,t){},353:function(e,t){},358:function(e,t){},360:function(e,t){},366:function(e,t){},368:function(e,t){},387:function(e,t){},399:function(e,t){},402:function(e,t){},428:function(e,t){},536:function(e,t,n){},537:function(e,t,n){"use strict";n.r(t);var s=n(0),i=n.n(s),a=n(58),r=n.n(a),c=(n(287),n(173)),o=n(585),u=n(103),l=n.n(u),h=n(167),d=n(16),j=n(593),p=n(575),b=n(586),g=n(580),f=n(587),x=n(584),m=n(590),v=n(591),O=n(592),y=n(581),k=n(589),T=n(570),w=n(2),C={item:{m:.5,p:1},box:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignContent:"center",flexWrap:"wrap",width:"80%",py:1,mx:"auto",textAlign:"center"},field:{fontWeight:"bold"}};function R(e){var t=Object(s.useState)(e.features||{}),n=Object(d.a)(t,2),i=n[0],a=n[1],r=["acousticness","energy","instrumentalness","liveness","speechiness","valence"];return Object(s.useEffect)((function(){return a(e.features),function(){a({})}}),[i,e.features]),i?Object(w.jsx)(T.a,{sx:C.box,children:Object.keys(i).filter((function(e){return r.includes(e)})).map((function(e){var t=i[e];return Object(w.jsx)(b.a,{sx:C.item,variant:"outlined",children:Object(w.jsxs)(f.a,{children:[Object(w.jsx)("span",{style:C.field,children:(e||"").charAt(0).toUpperCase()+(e||"").slice(1)})," ",t.toFixed(2)]})},e)}))}):Object(w.jsx)(w.Fragment,{})}var M=n(588),_=n(266),F=n.n(_),B=n(577),H={button:{height:80,width:80,color:"rgba(255,255,255,.9)"},shadow:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",width:151,minHeight:151,background:"rgba(0,0,0,.3)",borderTopLeftRadius:5,borderBottomLeftRadius:5}};function A(e){var t=e.audio,n=Object(s.useState)(!1),i=Object(d.a)(n,2),a=i[0],r=i[1];return Object(w.jsx)(p.a,{sx:H.shadow,children:Object(w.jsx)(M.a,{"aria-label":"play/pause",onClick:function(){a?t.pause():t.play(),r(!a)},children:a?Object(w.jsx)(B.a,{sx:H.button}):Object(w.jsx)(F.a,{sx:H.button})})})}var P=n(121);function S(e){var t=e.features,n=["acousticness","energy","instrumentalness","liveness","speechiness","valence"],s={labels:Object.keys(t).filter((function(e){return n.includes(e)})),plugins:{legend:{display:!1}},datasets:[{label:"Audio Features",backgroundColor:"rgba(163, 23, 107, 0.2)",borderColor:"rgb(163, 23, 107)",pointBackgroundColor:"rgb(163, 23, 107)",data:Object.keys(t).filter((function(e){return n.includes(e)})).map((function(e){return t[e]}))}]};return Object(w.jsx)(T.a,{children:Object(w.jsx)(P.b,{data:s,options:{plugins:{legend:{display:!1}}}})})}var D={stack:{display:"flex",justifyContent:"center",textAlign:"center",flexWrap:"wrap"},labels:{fontWeight:"bold"},item:{m:.5,p:1}};function E(e){var t=e.attributes;return Object(w.jsx)(x.a,{container:!0,justifyContent:"center",my:1,children:Object(w.jsxs)(p.a,{direction:"row",spacing:2,sx:D.stack,justifyContent:"center",children:[Object(w.jsx)(b.a,{sx:D.item,variant:"outlined",children:Object(w.jsxs)(f.a,{children:[Object(w.jsx)("span",{style:D.labels,children:"Key:"})," ",["C","C\u266f","D","D\u266f, E\u266d","E","F","F\u266f, G\u266d","G","G\u266f, A\u266d","A","A\u266f, B\u266d","B"][t.key]]})}),Object(w.jsx)(b.a,{sx:D.item,variant:"outlined",children:Object(w.jsxs)(f.a,{children:[Object(w.jsx)("span",{style:D.labels,children:"Loudness:"})," ",t.loudness," DB"]})}),Object(w.jsx)(b.a,{sx:D.item,variant:"outlined",children:Object(w.jsxs)(f.a,{children:[Object(w.jsx)("span",{style:D.labels,children:"Mode:"})," ",t.mode?"Major":"Minor"]})}),Object(w.jsx)(b.a,{sx:D.item,variant:"outlined",children:Object(w.jsxs)(f.a,{children:[Object(w.jsx)("span",{style:D.labels,children:"Tempo:"})," ",t.tempo.toFixed(2)," BPM"]})}),Object(w.jsx)(b.a,{sx:D.item,variant:"outlined",children:Object(w.jsxs)(f.a,{children:[Object(w.jsx)("span",{style:D.labels,children:"Time Signature:"})," ",t.time_signature]})})]})})}var W=n(14),L=n(15),I=function(){function e(t){Object(W.a)(this,e),this.track=t,this.audioFeatures=t.audio_features,this.energy=this.audioFeatures.energy,this.speechiness=this.audioFeatures.speechiness,this.acousticness=this.audioFeatures.acousticness,this.instrumentalness=this.audioFeatures.instrumentalness,this.valence=this.audioFeatures.valence,this.liveness=this.audioFeatures.liveness,this.tempo=this.audioFeatures.tempo,this.timeSignature=this.audioFeatures.time_signature}return Object(L.a)(e,[{key:"getDarkTrap",value:function(){return Math.exp(1.32100273603852+-3.95214590210851*this.energy+-2.97034537066208*this.instrumentalness+-3.12192361041902*this.valence+1.20639147140238*this.speechiness+.802235849492915*this.acousticness)}},{key:"getUndergroundRap",value:function(){return Math.exp(-3.21130941474024*this.energy-.585173750670349+-1.62669769007471*this.instrumentalness+2.90358096877526*this.speechiness)}},{key:"getTrapMetal",value:function(){return Math.exp(365774174479022e-27*this.energy-26.5660685235264)}},{key:"getEmo",value:function(){return Math.exp(5.15632014066701*this.energy-4.45576396152845+-23.1743815240074*this.instrumentalness+1.03472830247698*this.valence+-16.1475912163601*this.speechiness+-2.85920297002705*this.acousticness+-1.57620521178576*this.liveness)}},{key:"getRap",value:function(){return Math.exp(.425611071259471+-4.55463094574337*this.energy+-23.2407622276349*this.instrumentalness+.52577585234976*this.valence+2.77803181019107*this.speechiness+-.867364231641159*this.liveness)}},{key:"getRnB",value:function(){return Math.exp(-3.01395022374914*this.energy-1.5495965762436+-10.1887307014657*this.instrumentalness+3.78785671267583*this.valence+-2.42908899419463*this.speechiness)}},{key:"getTechHouse",value:function(){return Math.exp(3.00360374936557*this.instrumentalness-4.16036242089186+5.47362749760542*this.valence+-5.06768014149018*this.speechiness+-10.3415607481371*this.acousticness+-4.07605654410669*this.liveness)}},{key:"getTechno",value:function(){var e=Math.exp(-3.07209893439994*this.energy-3.48721878420174+7.60230695132344*this.instrumentalness+-3.19720459743676*this.valence+-3.35338737160986*this.liveness);return e>1?0:e}},{key:"getTrance",value:function(){return Math.exp(5.5092102976049*this.energy-6.02565277205317+.398243820713682*this.instrumentalness+-3.23540933952014*this.valence+-6.66479798738772*this.speechiness+-7.16880208633747*this.acousticness+1.3819136887026*this.liveness)}},{key:"getPsytrance",value:function(){return Math.exp(3.54979310235545*this.energy-7.03276619111165+3.68956086162267*this.instrumentalness+-.996401368763468*this.valence+-8.43646615935913*this.speechiness+-8.43363894877473*this.acousticness+2.44922578253309*this.liveness)}},{key:"getTrap",value:function(){return Math.exp(7.97565037565315*this.energy-9.0616123518072+-1.23533136148129*this.instrumentalness+-1.68520823994977*this.valence+4.78247249957852*this.speechiness+-6.23684794508448*this.acousticness)}},{key:"getDnb",value:function(){return Math.exp(4.98482632982042*this.energy-5.32252007714+-2.48156486211751*this.valence+-3.18195513151536*this.speechiness+-2.78047899379251*this.acousticness+-1.60527119347946*this.liveness)}},{key:"getHardstyle",value:function(){return Math.exp(7.87972234598448*this.energy-7.15551186571953+-3.09271030470342*this.instrumentalness+-3.13671743189077*this.valence+-6.12840421635238*this.speechiness+.764990649322906*this.liveness)}},{key:"getPop",value:function(){return Math.exp(-2.1089992753292*this.energy-1.13964320234083+-5.18847516028756*this.instrumentalness+3.00667818304564*this.valence+-9.16225092030095*this.speechiness+1.01153378741204*this.acousticness)}},{key:"getHipHop",value:function(){return Math.exp(-1.84674850993401*this.energy-3.78725272271513+-4.24051156705892*this.instrumentalness+3.35624266579344*this.valence+3.64710763208459*this.speechiness+1.97158195059129*this.acousticness+1.05433091224113*this.liveness)}}]),e}();function q(e){var t=e.track,n=new I(t),s=[n.getPop(),n.getTechno(),n.getHipHop(),n.getDarkTrap(),n.getUndergroundRap(),n.getTrapMetal(),n.getEmo(),n.getRap(),n.getRnB(),n.getTechHouse(),n.getTrance(),n.getPsytrance(),n.getTrap(),n.getRnB(),n.getHardstyle()];console.log("Pop:",t.name,n.getPop()),console.log("Techno:",t.name,n.getTechno()),console.log("Hiphop:",t.name,n.getHipHop()),console.log("Dark Trap:",t.name,n.getDarkTrap()),console.log("Underground Rap:",t.name,n.getUndergroundRap()),console.log("Trap Metal:",t.name,n.getTrapMetal()),console.log("Emo:",t.name,n.getEmo()),console.log("Rap:",t.name,n.getRap()),console.log("RnB:",t.name,n.getRnB()),console.log("Tech House:",t.name,n.getTechHouse()),console.log("Trance:",t.name,n.getTrance()),console.log("PsyTrance:",t.name,n.getPsytrance()),console.log("Trap:",t.name,n.getTrap()),console.log("Dnb:",t.name,n.getRnB()),console.log("Hardstyle:",t.name,n.getHardstyle()),console.log("\n");var i={labels:["Pop","Techno","HipHop","Dark Trap","Underground Rap","Trap Metal","Emo","Rap","RnB","Tech House","Trance","Psytrance","Trap","Dnb","Hardstyle"],plugins:{legend:{display:!1}},datasets:[{label:"Audio Features",backgroundColor:"rgba(163, 23, 107, 0.2)",borderColor:"rgb(163, 23, 107)",pointBackgroundColor:"rgb(163, 23, 107)",borderWidth:2,borderRadius:5,data:s}]};return Object(w.jsx)(T.a,{children:Object(w.jsx)(P.a,{data:i,options:{plugins:{legend:{display:!1}}}})})}var U={modal:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",maxWidth:"800px",bgcolor:"background.paper",boxShadow:12,p:4,borderRadius:1,maxHeight:"80vh",overflowY:"auto"},close:{position:"absolute",left:10,top:3},track:{display:"flex",my:1,maxWidth:"600px",mx:"auto"},cover:{width:151,borderTopLeftRadius:5,borderBottomLeftRadius:5},header:{flex:"0 1 100%",m:1,fontWeight:"bold",textAlign:"center"}};function G(e){var t=e.track,n=e.audio,s=e.open,i=e.handleClose,a=t.preview_url||"";return Object(w.jsx)(y.a,{open:s,onClose:i,children:Object(w.jsxs)(p.a,{sx:U.modal,elevation:10,children:[Object(w.jsx)(k.a,{sx:U.close,onClick:i,children:"Close"}),Object(w.jsxs)(b.a,{sx:U.track,elevation:4,children:[a?Object(w.jsx)(A,{url:t.preview_url,audio:n}):"",Object(w.jsx)(p.a,{sx:U.cover,component:"img",src:t.album.images[0].url}),Object(w.jsxs)(p.a,{m:1,children:[Object(w.jsx)(f.a,{component:"div",variant:"h6",fontWeight:"bold",children:t.name}),Object(w.jsx)(f.a,{component:"div",variant:"subtitle1",children:t.artists[0].name})]})]}),Object(w.jsxs)(p.a,{justifyContent:"center",children:[Object(w.jsx)(f.a,{variant:"h6",sx:U.header,children:"Track Attributes"}),Object(w.jsx)(E,{attributes:t.audio_features})]}),Object(w.jsxs)(x.a,{container:!0,justifyContent:"center",children:[Object(w.jsx)(f.a,{variant:"h6",sx:U.header,children:"Calculated Features"}),Object(w.jsxs)(x.a,{container:!0,alignItems:"center",justifyContent:"center",children:[Object(w.jsx)(x.a,{item:!0,md:4,sm:8,xs:12,children:Object(w.jsx)(S,{features:t.audio_features})}),Object(w.jsx)(x.a,{item:!0,md:6,sm:4,xs:12,children:Object(w.jsx)(R,{features:t.audio_features})})]})]}),Object(w.jsxs)(x.a,{container:!0,justifyContent:"center",children:[Object(w.jsx)(f.a,{variant:"h6",sx:U.header,children:"Genre Prediction"}),Object(w.jsx)(x.a,{container:!0,alignItems:"center",justifyContent:"center",children:Object(w.jsx)(x.a,{item:!0,md:9,sm:12,xs:12,children:Object(w.jsx)(q,{track:t})})})]})]})})}function z(e){var t=e.track,n=Object(s.useState)(!1),i=Object(d.a)(n,2),a=i[0],r=i[1],c=new Audio(t.preview_url);return Object(w.jsxs)("div",{children:[Object(w.jsx)(m.a,{py:10,my:3,elevation:2,onClick:function(){return r(!0)},children:Object(w.jsxs)(p.a,{sx:{display:"flex"},children:[Object(w.jsx)(v.a,{component:"img",sx:{width:151},image:t.album.images[0].url}),Object(w.jsxs)(O.a,{children:[Object(w.jsx)(f.a,{component:"div",variant:"h6",sx:{fontWeight:"bold"},children:t.name}),Object(w.jsx)(f.a,{component:"div",variant:"subtitle1",children:t.artists[0].name})]})]})}),Object(w.jsx)(G,{audio:c,track:t,open:a,handleClose:function(){c.pause(),r(!1)}})]})}var J=n(267),K=n(23),Y=n(268),N=new J.a("a2dc26de72a148c39c524070d4ef9dba","4a8759630b2f46a583bc113a6731253f"),Q={welcome:{p:2,my:2}};function V(e){var t=Object(s.useState)([]),n=Object(d.a)(t,2),i=n[0],a=n[1],r=Object(s.useState)(""),c=Object(d.a)(r,2),o=c[0],u=c[1],m=Object(K.f)();Object(s.useEffect)((function(){var t=Object(Y.parse)(e.location.search);t.q&&t.q.trim().length&&u(t.q)}),[e.location.search]),Object(s.useEffect)((function(){o.trim().length?(N.getSearchResults(o).then(function(){var e=Object(h.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tracks.items,e.next=3,new Promise((function(e){return setTimeout(e,150)}));case 3:N.getAudioAnalysis(t.tracks.items.map((function(e){return e.id}))).then((function(e){e.audio_features&&e.audio_features.forEach((function(e,t){return n[t].audio_features=e}))})).then((function(){a(n)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m.push({pathname:"/",search:"q=".concat(o)})):(a([]),m.push({pathname:"/"}))}),[m,o]);var v=function(){var e=Object(h.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)(j.a,{children:[Object(w.jsxs)(p.a,{my:2,elevation:5,children:[Object(w.jsx)(b.a,{my:1,elevation:2,children:Object(w.jsx)(g.a,{fullWidth:!0,placeholder:"Search Songs by Title or Artist",onChange:v})}),i.length?Object(w.jsx)(w.Fragment,{}):Object(w.jsxs)(b.a,{elevation:2,sx:Q.welcome,children:[Object(w.jsx)(f.a,{variant:"h6",children:"Welcome to Regress it"}),Object(w.jsx)(f.a,{variant:"body1",children:"To look at a song's audio features just type a query into the search bar!"})]})]}),Object(w.jsx)(x.a,{container:!0,spacing:2,children:i?i.map((function(e){return Object(w.jsx)(x.a,{item:!0,xs:12,children:Object(w.jsx)(z,{track:e})},e.id)})):Object(w.jsx)(w.Fragment,{})})]})}var X=n(594),Z={thumbnail:{height:60,mx:"auto",my:1,cursor:"pointer"},bar:{background:"black",justifyContent:"center"}};function $(){var e=Object(K.f)();return Object(w.jsx)(X.a,{position:"relative",sx:Z.bar,children:Object(w.jsx)(p.a,{component:"img",src:"./../../beatsLogo.png",sx:Z.thumbnail,onClick:function(){e.push("/")}})})}var ee={box:{display:"flex",justifyContent:"center",my:5,alignItems:"center"},icon:{height:30,m:1}};function te(){return Object(w.jsxs)(p.a,{sx:ee.box,children:[Object(w.jsx)(p.a,{sx:ee.icon,component:"img",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/19/Spotify_logo_without_text.svg/1024px-Spotify_logo_without_text.svg.png"}),Object(w.jsx)(f.a,{variant:"overline",children:"Powered by the Spotify API"})]})}n(536);var ne=n(270),se=Object(c.a)({palette:{primary:{main:"#a3176b"}}});var ie=function(){return Object(w.jsx)(o.a,{theme:se,children:Object(w.jsxs)(ne.a,{children:[Object(w.jsx)($,{}),Object(w.jsx)(K.c,{children:Object(w.jsx)(K.a,{path:"/",component:V})}),Object(w.jsx)(te,{})]})})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,596)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),s(e),i(e),a(e),r(e)}))};r.a.render(Object(w.jsx)(i.a.StrictMode,{children:Object(w.jsx)(ie,{})}),document.getElementById("root")),ae()}},[[537,1,2]]]);
//# sourceMappingURL=main.684c2fd8.chunk.js.map