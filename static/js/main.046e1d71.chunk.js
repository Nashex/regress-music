(this.webpackJsonpmusic=this.webpackJsonpmusic||[]).push([[0],{255:function(e,t,n){"use strict";(function(e){var i=n(14),s=n(16),a=n(278),c=function(){function t(n,s){var c=this;Object(i.a)(this,t),this.client_id=n,this.client_secret=s,this.authOptions={url:"https://accounts.spotify.com/api/token",headers:{Authorization:"Basic "+e.from(this.client_id+":"+this.client_secret).toString("base64")},form:{grant_type:"client_credentials"},json:!0},new Promise((function(e,t){a.post(c.authOptions,(function(n,i,s){n||200!==i.statusCode?t(n):e(s.access_token)}))})).then((function(e){return c.token=e}))}return Object(s.a)(t,[{key:"getAudioAnalysis",value:function(e){var t=this;return new Promise((function(n,i){var s={url:"https://api.spotify.com/v1/audio-features?ids=".concat(e.join(",")),headers:{Authorization:"Bearer "+t.token},json:!0};a.get(s,(function(e,t,i){n(i)}))}))}},{key:"getSearchResults",value:function(e){var t=this;return new Promise((function(n,i){var s={url:"https://api.spotify.com/v1/search?q=".concat(e,"&type=track&limit=5"),headers:{Authorization:"Bearer "+t.token},json:!0};a.get(s,(function(e,t,i){n(i)}))}))}}]),t}();t.a=c}).call(this,n(19).Buffer)},274:function(e,t,n){},293:function(e,t){},295:function(e,t){},304:function(e,t){},306:function(e,t){},331:function(e,t){},333:function(e,t){},334:function(e,t){},339:function(e,t){},341:function(e,t){},347:function(e,t){},349:function(e,t){},368:function(e,t){},380:function(e,t){},383:function(e,t){},409:function(e,t){},508:function(e,t,n){},511:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n.n(i),a=n(54),c=n.n(a),r=(n(274),n(160)),o=n.n(r),l=n(252),u=n(15),j=n(565),d=n(566),b=n(558),h=n(553),x=n(559),f=n(557),p=n(255),m=n(561),O=n(548),g=n(562),v=n(563),y=n(554),k=n(564),C=n(544),w=n(2),_={item:{m:.5,p:1}};function A(e){var t=Object(i.useState)(e.features||{}),n=Object(u.a)(t,2),s=n[0],a=n[1];console.log(s);var c=["acousticness","energy","instrumentalness","liveness","speechiness","valence"];return Object(i.useEffect)((function(){return a(e.features),function(){a({})}}),[s]),s?Object(w.jsx)("div",{children:Object(w.jsx)(C.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignContent:"center",flexWrap:"wrap",width:"80%",py:1,mx:"auto",textAlign:"center"},children:Object.keys(s).filter((function(e){return c.includes(e)})).map((function(e){var t=s[e];return Object(w.jsx)(b.a,{sx:_.item,variant:"outlined",children:Object(w.jsxs)(x.a,{children:[Object(w.jsx)("span",{style:{fontWeight:"bold"},children:(e||"").charAt(0).toUpperCase()+(e||"").slice(1)})," ",t.toFixed(2)]})},e)}))})}):Object(w.jsx)(w.Fragment,{})}var S=n(560),W=n(258),F=n.n(W),B=n(550),P={button:{height:80,width:80,color:"rgba(255,255,255,.9)"}};function T(e){var t=e.audio,n=Object(i.useState)(!1),s=Object(u.a)(n,2),a=s[0],c=s[1];return Object(w.jsx)(O.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",width:151,height:151,background:"rgba(0,0,0,.3)"},children:Object(w.jsx)(S.a,{"aria-label":"play/pause",onClick:function(){a?t.pause():t.play(),c(!a)},children:a?Object(w.jsx)(B.a,{sx:P.button}):Object(w.jsx)(F.a,{sx:P.button})})})}var I=n(259);function D(e){var t=e.features,n=["acousticness","energy","instrumentalness","liveness","speechiness","valence"],i={labels:Object.keys(t).filter((function(e){return n.includes(e)})),plugins:{legend:{display:!1}},datasets:[{label:"Audio Features",backgroundColor:"rgba(163, 23, 107, 0.2)",borderColor:"rgb(163, 23, 107)",pointBackgroundColor:"rgb(163, 23, 107)",data:Object.keys(t).filter((function(e){return n.includes(e)})).map((function(e){return t[e]}))}]};return Object(w.jsx)(C.a,{children:Object(w.jsx)(I.a,{data:i,options:{plugins:{legend:{display:!1}}}})})}var E={stack:{display:"flex",justifyContent:"center",textAlign:"center",flexWrap:"wrap"},labels:{fontWeight:"bold"},item:{m:.5,p:1}};function M(e){var t=e.attributes;return Object(w.jsx)(f.a,{container:!0,justifyContent:"center",my:1,children:Object(w.jsxs)(C.a,{direction:"row",spacing:2,sx:E.stack,justifyContent:"center",children:[Object(w.jsx)(b.a,{sx:E.item,variant:"outlined",children:Object(w.jsxs)(x.a,{children:[Object(w.jsx)("span",{style:{fontWeight:"bold"},children:"Key:"})," ",["C","C\u266f","D","D\u266f, E\u266d","E","F","F\u266f, G\u266d","G","G\u266f, A\u266d","A","A\u266f, B\u266d","B"][t.key]]})}),Object(w.jsx)(b.a,{sx:E.item,variant:"outlined",children:Object(w.jsxs)(x.a,{children:[Object(w.jsx)("span",{style:{fontWeight:"bold"},children:"Loudness:"})," ",t.loudness," DB"]})}),Object(w.jsx)(b.a,{sx:E.item,variant:"outlined",children:Object(w.jsxs)(x.a,{children:[Object(w.jsx)("span",{style:{fontWeight:"bold"},children:"Mode:"})," ",t.mode?"Major":"Minor"]})}),Object(w.jsx)(b.a,{sx:E.item,variant:"outlined",children:Object(w.jsxs)(x.a,{children:[Object(w.jsx)("span",{style:{fontWeight:"bold"},children:"Tempo:"})," ",t.tempo.toFixed(2)," BPM"]})}),Object(w.jsx)(b.a,{sx:E.item,variant:"outlined",children:Object(w.jsxs)(x.a,{children:[Object(w.jsx)("span",{style:{fontWeight:"bold"},children:"Time Signature:"})," ",t.time_signature]})})]})})}var R={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",maxWidth:"800px",bgcolor:"background.paper",boxShadow:12,p:4,borderRadius:1,maxHeight:"80vh",overflowY:"auto"};function L(e){var t=e.track,n=Object(i.useState)(!1),s=Object(u.a)(n,2),a=s[0],c=s[1],r=Object(i.useState)(t.preview_url),o=Object(u.a)(r,2),l=o[0],j=(o[1],Object(i.useState)(new Audio(t.preview_url))),d=Object(u.a)(j,2),h=d[0],p=(d[1],function(){h.pause(),c(!1)});return Object(w.jsxs)("div",{children:[Object(w.jsx)(m.a,{py:10,my:3,elevation:2,onClick:function(){return c(!0)},children:Object(w.jsxs)(O.a,{sx:{display:"flex"},children:[Object(w.jsx)(g.a,{component:"img",sx:{width:151},image:t.album.images[0].url}),Object(w.jsxs)(v.a,{children:[Object(w.jsx)(x.a,{component:"div",variant:"h6",sx:{fontWeight:"bold"},children:t.name}),Object(w.jsx)(x.a,{component:"div",variant:"subtitle1",children:t.artists[0].name})]})]})}),Object(w.jsx)(y.a,{open:a,onClose:p,children:Object(w.jsxs)(O.a,{sx:R,elevation:10,children:[Object(w.jsx)(k.a,{sx:{position:"absolute",left:10,top:3,color:"rgb(163,23,107)"},onClick:p,children:"Close"}),Object(w.jsxs)(b.a,{sx:{display:"flex",my:1,maxWidth:"600px",mx:"auto"},elevation:4,children:[l?Object(w.jsx)(T,{url:t.preview_url,audio:h}):"",Object(w.jsx)(O.a,{sx:{width:151,borderRadius:1},component:"img",src:t.album.images[0].url}),Object(w.jsxs)(O.a,{sx:{margin:1},children:[Object(w.jsx)(x.a,{component:"div",variant:"h6",sx:{fontWeight:"bold"},children:t.name}),Object(w.jsx)(x.a,{component:"div",variant:"subtitle1",children:t.artists[0].name})]})]}),Object(w.jsxs)(O.a,{justifyContent:"center",children:[Object(w.jsx)(x.a,{variant:"h6",sx:{flex:"0 1 100%",m:1,fontWeight:"bold",textAlign:"center"},children:"Track Attributes"}),Object(w.jsx)(M,{attributes:t.audio_features})]}),Object(w.jsxs)(f.a,{container:!0,sx:{justifyContent:"center"},children:[Object(w.jsx)(x.a,{variant:"h6",sx:{flex:"0 1 100%",m:1,fontWeight:"bold",textAlign:"center"},children:"Calculated Features"}),Object(w.jsxs)(f.a,{container:!0,xs:12,alignItems:"center",justifyContent:"center",children:[Object(w.jsx)(f.a,{item:!0,md:6,sm:8,xs:12,children:Object(w.jsx)(D,{features:t.audio_features})}),Object(w.jsx)(f.a,{item:!0,md:6,sm:4,xs:12,children:Object(w.jsx)(A,{features:t.audio_features})})]})]})]})})]})}n(508);var z=new p.a("a2dc26de72a148c39c524070d4ef9dba","d1b5fc39be7b48d4bd6144c5304baba8");var G=function(){var e=Object(i.useState)([]),t=Object(u.a)(e,2),n=t[0],s=t[1],a=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.target.value)?z.getSearchResults(n).then((function(e){var t=e.tracks.items;z.getAudioAnalysis(e.tracks.items.map((function(e){return e.id}))).then((function(e){e.audio_features.forEach((function(e,n){return t[n].audio_features=e}))})).then((function(){s(t)}))})):s([]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(j.a,{position:"relative",justifyContent:"center",sx:{background:"black"},children:Object(w.jsx)(C.a,{component:"img",src:"./beatsLogo.png",sx:{height:60,mx:"auto",my:1,cursor:"pointer"},onClick:function(){return s([])}})}),Object(w.jsxs)(d.a,{children:[Object(w.jsxs)(C.a,{sx:{marginTop:2},elevation:5,children:[Object(w.jsx)(C.a,{display:"flex",justifyContent:"center",alignItems:"center"}),Object(w.jsx)(b.a,{sx:{my:1},elevation:2,children:Object(w.jsx)(h.a,{fullWidth:!0,margin:"none",placeholder:"Search Songs by Title or Artist",onChange:a})}),n.length?Object(w.jsx)(w.Fragment,{}):Object(w.jsxs)(b.a,{elevation:2,sx:{p:2,my:2},children:[Object(w.jsx)(x.a,{variant:"h6",children:"Welcome to Regress it"}),Object(w.jsx)(x.a,{variant:"body1",children:"To look at a song's audio features just type a query into the search bar!"})]})]}),Object(w.jsx)(f.a,{container:!0,spacing:2,children:n?n.map((function(e,t){return Object(w.jsx)(f.a,{item:!0,xs:12,children:Object(w.jsx)(L,{track:e})},e.id)})):Object(w.jsx)(w.Fragment,{})}),Object(w.jsxs)(C.a,{sx:{display:"flex",justifyContent:"center",my:5,alignItems:"center"},children:[Object(w.jsx)(C.a,{sx:{height:"30px",m:1},component:"img",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/19/Spotify_logo_without_text.svg/1024px-Spotify_logo_without_text.svg.png"}),Object(w.jsx)(x.a,{variant:"overline",children:"Powered by the Spotify API"})]})]})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,568)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),i(e),s(e),a(e),c(e)}))};c.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(G,{})}),document.getElementById("root")),q()}},[[511,1,2]]]);
//# sourceMappingURL=main.046e1d71.chunk.js.map