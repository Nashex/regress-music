(this.webpackJsonpmusic=this.webpackJsonpmusic||[]).push([[0],{255:function(t,e,n){"use strict";(function(t){var i=n(108),a=n(109),c=n(279),s=function(){function e(n,a){var s=this;Object(i.a)(this,e),this.client_id=n,this.client_secret=a,this.authOptions={url:"https://accounts.spotify.com/api/token",headers:{Authorization:"Basic "+t.from(this.client_id+":"+this.client_secret).toString("base64")},form:{grant_type:"client_credentials"},json:!0},new Promise((function(t,e){c.post(s.authOptions,(function(n,i,a){n||200!==i.statusCode?e(n):t(a.access_token)}))})).then((function(t){return s.token=t}))}return Object(a.a)(e,[{key:"getAudioAnalysis",value:function(t){var e=this;return new Promise((function(n,i){var a={url:"https://api.spotify.com/v1/audio-features?ids=".concat(t.join(",")),headers:{Authorization:"Bearer "+e.token},json:!0};c.get(a,(function(t,e,i){n(i)}))}))}},{key:"getSearchResults",value:function(t){var e=this;return new Promise((function(n,i){var a={url:"https://api.spotify.com/v1/search?q=".concat(t,"&type=track&limit=5"),headers:{Authorization:"Bearer "+e.token},json:!0};c.get(a,(function(t,e,i){n(i)}))}))}}]),e}();e.a=s}).call(this,n(16).Buffer)},275:function(t,e,n){},294:function(t,e){},296:function(t,e){},305:function(t,e){},307:function(t,e){},332:function(t,e){},334:function(t,e){},335:function(t,e){},340:function(t,e){},342:function(t,e){},348:function(t,e){},350:function(t,e){},369:function(t,e){},381:function(t,e){},384:function(t,e){},410:function(t,e){},509:function(t,e,n){},512:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),c=n(53),s=n.n(c),r=(n(275),n(159)),o=n.n(r),u=n(252),l=n(15),j=n(566),f=n(560),d=n(563),b=n(554),h=n(559),x=n(255),p=n(562),O=n(549),m=n(564),v=n(565),g=n(555),y=n(548),k=n(558),w=n(544),S=n(2);function _(t){var e=Object(i.useState)(t.features||{}),n=Object(l.a)(e,2),a=n[0],c=n[1];console.log(a);var s=["acousticness","energy","instrumentalness","liveness","speechiness","valence"];return Object(i.useEffect)((function(){return c(t.features),function(){c({})}}),[a]),a?Object(S.jsx)("div",{children:Object(S.jsxs)(w.a,{sx:{display:"flex",justifyContent:"space-evenly",flexWrap:"wrap",width:"80%",py:1,mx:"auto",textAlign:"center"},children:[Object(S.jsx)(f.a,{variant:"h6",sx:{flex:"0 1 100%",m:1,fontWeight:"bold"},children:"Calculated Features:"}),Object.keys(a).filter((function(t){return s.includes(t)})).map((function(t){var e=a[t];return Object(S.jsx)(k.a,{label:"".concat(t,": ").concat(e.toFixed(2)),sx:{margin:.5},color:"primary",variant:"outlined",icon:Object(S.jsx)(y.a,{})})}))]})}):Object(S.jsx)(S.Fragment,{})}var C=n(561),A=n(258),F=n.n(A),B=n(551),W={button:{height:80,width:80,color:"rgba(255,255,255,.9)"}};function P(t){var e=t.audio,n=Object(i.useState)(!1),a=Object(l.a)(n,2),c=a[0],s=a[1];return Object(S.jsx)(O.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",width:151,height:151,background:"rgba(0,0,0,.3)"},children:Object(S.jsx)(C.a,{"aria-label":"play/pause",onClick:function(){c?e.pause():e.play(),s(!c)},children:c?Object(S.jsx)(B.a,{sx:W.button}):Object(S.jsx)(F.a,{sx:W.button})})})}var R={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",bgcolor:"background.paper",boxShadow:12,p:4,borderRadius:1};function I(t){var e=t.track,n=Object(i.useState)(!1),a=Object(l.a)(n,2),c=a[0],s=a[1],r=Object(i.useState)(e.preview_url),o=Object(l.a)(r,2),u=o[0],j=(o[1],Object(i.useState)(new Audio(e.preview_url))),b=Object(l.a)(j,2),h=b[0];b[1];return Object(S.jsxs)("div",{children:[Object(S.jsx)(p.a,{py:10,my:3,elevation:2,onClick:function(){return s(!0)},children:Object(S.jsxs)(O.a,{sx:{display:"flex"},children:[Object(S.jsx)(m.a,{component:"img",sx:{width:151},image:e.album.images[0].url}),Object(S.jsxs)(v.a,{children:[Object(S.jsx)(f.a,{component:"div",variant:"h6",children:e.name}),Object(S.jsx)(f.a,{component:"div",variant:"subtitle1",children:e.artists[0].name})]})]})}),Object(S.jsx)(g.a,{open:c,onClose:function(){h.pause(),s(!1)},children:Object(S.jsxs)(O.a,{sx:R,children:[Object(S.jsxs)(d.a,{sx:{display:"flex",my:1,maxWidth:"600px",mx:"auto"},elevation:4,children:[u?Object(S.jsx)(P,{url:e.preview_url,audio:h}):"",Object(S.jsx)(O.a,{sx:{width:151,borderRadius:1},component:"img",src:e.album.images[0].url}),Object(S.jsxs)(O.a,{sx:{margin:1},children:[Object(S.jsx)(f.a,{component:"div",variant:"h6",sx:{fontWeight:"bold"},children:e.name}),Object(S.jsx)(f.a,{component:"div",variant:"subtitle1",children:e.artists[0].name})]})]}),Object(S.jsx)(_,{features:e.audio_features})]})})]})}n(509);var z=new x.a("a2dc26de72a148c39c524070d4ef9dba","d1b5fc39be7b48d4bd6144c5304baba8");var E=function(){var t=Object(i.useState)([]),e=Object(l.a)(t,2),n=e[0],a=e[1],c=function(){var t=Object(u.a)(o.a.mark((function t(e){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=e.target.value)?z.getSearchResults(n).then((function(t){var e=t.tracks.items;z.getAudioAnalysis(t.tracks.items.map((function(t){return t.id}))).then((function(t){t.audio_features.forEach((function(t,n){return e[n].audio_features=t}))})).then((function(){a(e)}))})):a([]);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(j.a,{children:[Object(S.jsxs)(w.a,{sx:{marginTop:2},elevation:5,children:[Object(S.jsx)(f.a,{variant:"h5",sx:{fontWeight:"bold"},children:"Regress It | Music"}),Object(S.jsx)(d.a,{sx:{my:1},elevation:2,children:Object(S.jsx)(b.a,{fullWidth:!0,margin:"none",placeholder:"Search Spotify Songs",onChange:c})})]}),Object(S.jsxs)(h.a,{container:!0,spacing:2,children:[Object(S.jsx)(h.a,{item:!0,xs:12},0),n?n.map((function(t,e){return Object(S.jsx)(h.a,{item:!0,xs:12,children:Object(S.jsx)(I,{track:t})},t.id)})):Object(S.jsx)(S.Fragment,{})]})]})})},T=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,568)).then((function(e){var n=e.getCLS,i=e.getFID,a=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),i(t),a(t),c(t),s(t)}))};s.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(E,{})}),document.getElementById("root")),T()}},[[512,1,2]]]);
//# sourceMappingURL=main.58bc1932.chunk.js.map